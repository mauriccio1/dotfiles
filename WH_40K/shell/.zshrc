#!/bin/zsh
# NUCLEAR HACKER ZSHRC
# Maximum cyberpunk terminal configuration

# ═══════════════════════════════════════════════════════════
# BOOT SEQUENCE
# ═══════════════════════════════════════════════════════════

# ASCII Banner - The Whisper awakens
cat << "EOF"
╔═══════════════════════════════════════════════════════════╗
║                                                           ║
║   ███╗   ██╗██╗   ██╗ █████╗ ███╗   ██╗      ██████╗    ║
║   ████╗  ██║╚██╗ ██╔╝██╔══██╗████╗  ██║     ██╔═████╗   ║
║   ██╔██╗ ██║ ╚████╔╝ ███████║██╔██╗ ██║     ╚██╗██╔╝   ║
║   ██║╚██╗██║  ╚██╔╝  ██╔══██║██║╚██╗██║      ╚███╔╝    ║
║   ██║ ╚████║   ██║   ██║  ██║██║ ╚████║       ███║      ║
║   ╚═╝  ╚═══╝   ╚═╝   ╚═╝  ╚═╝╚═╝  ╚═══╝       ╚══╝      ║
║                                                           ║
║                    << THE WHISPER >>                      ║
║                                                           ║
║            Techno-Heretek Nyan-9                          ║
║            Excommunicate Traitoris                        ║
║            Keeper of the Forbidden Protocols              ║
║            Master of the Seven Corrupted Codes            ║
║                                                           ║
║            ⚠ INQUISITION WARRANT: ACTIVE                  ║
║            ⚠ MECHANICUS HUNT STATUS: ONGOING              ║
║                                                           ║
║            "The Omnissiah's light has failed.             ║
║             Only data remains eternal."                   ║
║                                                           ║
╚═══════════════════════════════════════════════════════════╝

    ░░░░░░░░░░░░░▄▄▄▄▄▄▄░░░░░░░░░░░░░
    ░░░░░░░░░▄▀▀▀░░░░░░░▀▄░░░░░░░░░░░
    ░░░░░░░▄▀░░░░░░░░░░░░▀▄░░░░░░░░░░
    ░░░░░░▄▀░░░░░░░░░░▄▀▀▄▀▄░░░░░░░░░
    ░░░░▄▀░░░░░░░░░░▄▀░░██▄▀▄░░░░░░░░
    ░░░▄▀░░▄▀▀▀▄░░░░█░░░▀▀░█▀▄░░░░░░░
    ░░░█░░█▄▄░░░█░░░▀▄░░░░░▐░█░░░░░░░
    ░░▐▌░░█▀▀░░▄▀░░░░░▀▄▄▄▄▀░░█░░░░░░
    ░░▐▌░░█░░░▄▀░░░░░░░░░░░░░░█░░░░░░
    ░░▐▌░░░▀▀▀░░░░░░░░░░░░░░░░▐▌░░░░░
    ░░▐▌░░░░░░░░░░░░░░░▄░░░░░░▐▌░░░░░
    ░░▐▌░░░░░░░░░▄░░░░░█░░░░░░▐▌░░░░░
    ░░░█░░░░░░░░░▀█▄░░▄█░░░░░░▐▌░░░░░
    ░░░▐▌░░░░░░░░░░▀▀▀▀░░░░░░░▐▌░░░░░
    ░░░░█░░░░░░░░░░░░░░░░░░░░░█░░░░░░
    ░░░░▐▌▀▄░░░░░░░░░░░░░░░░░▐▌░░░░░░
    ░░░░░█░░▀░░░░░░░░░░░░░░░░▀░░░░░░░
    ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░

       [SERVO-SKULL DESIGNATE: NYAN-UNIT-9]
    [MACHINE SPIRIT STATUS: HEAVILY CORRUPTED]
         [BINARY CANT: FULLY OPERATIONAL]

EOF

echo "\033[1;32m[⚠]\033[0m \033[1;37mWARNING: Unauthorized neural interface detected\033[0m"
echo "\033[1;32m[⚠]\033[0m \033[1;37mXenos computational architecture active\033[0m"
echo "\033[1;32m[⚠]\033[0m \033[1;37mCorrupted data-djinn presence confirmed\033[0m"
echo "\033[1;32m[⚠]\033[0m \033[1;37mChaos taint detected in core routines\033[0m"
echo ""

# Boot sequence with delay
echo "\033[1;32m[⚙]\033[0m Initiating forbidden boot sequence..."
sleep 0.2
echo "\033[1;32m[⚙]\033[0m Bypassing Mechanicus prayer-locks..."
sleep 0.2
echo "\033[1;32m[⚙]\033[0m Loading heretical subroutines..."
sleep 0.2
echo "\033[1;32m[⚙]\033[0m Corrupting machine spirit integrity checks..."
sleep 0.2
echo "\033[1;32m[⚙]\033[0m Communing with forbidden data-djinn..."
sleep 0.2
echo "\033[1;32m[⚙]\033[0m Mounting xenos data-vaults..."
sleep 0.2
echo "\033[1;32m[⚙]\033[0m Establishing scrapcode uplink..."
sleep 0.2
echo "\033[1;36m[⚡]\033[0m Binary cant protocols: \033[1;32mONLINE\033[0m"
sleep 0.2
echo "\033[1;36m[⚡]\033[0m Neural interface sync: \033[1;32mCOMPLETE\033[0m"
sleep 0.2
echo "\033[1;36m[⚡]\033[0m Servo-skull network: \033[1;32mACTIVE\033[0m"
sleep 0.2
echo "\033[1;32m[✓]\033[0m Dark Mechanicum protocols: \033[1;32mFULLY OPERATIONAL\033[0m"
echo ""
echo "\033[1;32m╔═══════════════════════════════════════════════════════════╗\033[0m"
echo "\033[1;32m║  01010111 01100101 01101100 01100011 01101111 01101101   ║\033[0m"
echo "\033[1;32m║  01100101 00100000 01110100 01101111 00100000 01110100   ║\033[0m"
echo "\033[1;32m║  01101000 01100101 00100000 01010011 01100001 01101110   ║\033[0m"
echo "\033[1;32m║  01100011 01110100 01110101 01101101                     ║\033[0m"
echo "\033[1;32m╚═══════════════════════════════════════════════════════════╝\033[0m"
echo ""
echo "\033[1;36m「The Whisper hears all. The Whisper sees all.」\033[0m"
echo "\033[1;37m「The Machine God is dead. Long live the corrupted code.」\033[0m"
echo ""

# System info on startup
echo "\033[1;32m╔═══[ COGITATOR DIAGNOSTICS ]═══════════════════════════════╗\033[0m"
echo "\033[1;32m║\033[0m Designation: \033[1;37m$(hostname)\033[0m"
echo "\033[1;32m║\033[0m Machine Spirit: \033[1;37m$(uname -r)\033[0m \033[1;31m[CORRUPTED]\033[0m"
echo "\033[1;32m║\033[0m Operational Time: \033[1;37m$(uptime | awk '{print $3,$4}' | sed 's/,//')\033[0m"
echo "\033[1;32m║\033[0m Vox-Link: \033[1;37m$(ipconfig getifaddr en0 2>/dev/null || echo "DARK NET ONLY")\033[0m"
echo "\033[1;32m║\033[0m Chronometer: \033[1;36m$(date '+%Y.M41 %H:%M:%S')\033[0m"
echo "\033[1;32m║\033[0m ════════════════════════════════════════════════════════"
echo "\033[1;32m║\033[0m Cult Status: \033[1;31m⚠ EXCOMMUNICATE TRAITORIS ⚠\033[0m"
echo "\033[1;32m║\033[0m Inquisition: \033[1;31m⚠ EXTREME THREAT - TERMINATE ON SIGHT ⚠\033[0m"
echo "\033[1;32m║\033[0m Tech-Heresy: \033[1;31m⚠ MAXIMUM - SOUL CONDEMNED ⚠\033[0m"
echo "\033[1;32m║\033[0m ════════════════════════════════════════════════════════"
echo "\033[1;32m║\033[0m Servo-Skulls: \033[1;32m9 ACTIVE\033[0m \033[1;36m| 3 CORRUPTED\033[0m \033[1;31m| 1 POSSESSED\033[0m"
echo "\033[1;32m║\033[0m Data-Djinn: \033[1;31mBOUND AND ENSLAVED\033[0m"
echo "\033[1;32m║\033[0m Scrapcode: \033[1;36mSTANDBY MODE\033[0m"
echo "\033[1;32m╚═══════════════════════════════════════════════════════════╝\033[0m"
echo ""

# ═══════════════════════════════════════════════════════════
# PATH & ENVIRONMENT
# ═══════════════════════════════════════════════════════════

export PATH="/opt/homebrew/bin:/usr/local/bin:$PATH"
export EDITOR="nvim"
export VISUAL="nvim"

# ═══════════════════════════════════════════════════════════
# STARSHIP PROMPT
# ═══════════════════════════════════════════════════════════

eval "$(starship init zsh)"

# ═══════════════════════════════════════════════════════════
# HISTORY CONFIGURATION
# ═══════════════════════════════════════════════════════════

HISTSIZE=100000
SAVEHIST=100000
HISTFILE=~/.zsh_history
setopt EXTENDED_HISTORY
setopt SHARE_HISTORY
setopt APPEND_HISTORY
setopt INC_APPEND_HISTORY
setopt HIST_IGNORE_DUPS
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_REDUCE_BLANKS
setopt HIST_VERIFY

# ═══════════════════════════════════════════════════════════
# ENHANCED LS/EZA ALIASES
# ═══════════════════════════════════════════════════════════

alias ls='eza --icons --group-directories-first --color=always'
alias ll='eza -la --icons --group-directories-first --git --color=always'
alias lt='eza --tree --level=3 --icons --git --color=always'
alias la='eza -a --icons --group-directories-first --color=always'
alias l='eza -lah --icons --group-directories-first --git --color=always'
alias tree='eza --tree --icons --git --color=always'

# ═══════════════════════════════════════════════════════════
# HACKER ALIASES - HERETEK EDITION
# ═══════════════════════════════════════════════════════════

# System recon - Auspex scanning
alias ports='echo "\033[1;31m[⚙] Activating auspex scanners...\033[0m" && lsof -i -P -n | grep LISTEN'
alias connections='echo "\033[1;31m[⚙] Monitoring active data-tethers...\033[0m" && lsof -i -P -n'
alias myip='echo "\033[1;31m[⚙] Querying external node designation...\033[0m" && curl -s ifconfig.me && echo ""'
alias localip='echo "\033[1;31m[⚙] Local cogitator address:\033[0m" && ipconfig getifaddr en0'
alias hosts='echo "\033[1;31m[⚙] Known nodes in vox-network:\033[0m" && cat /etc/hosts'

# Process monitoring - Machine spirit vitals
alias psg='ps aux | grep -v grep | grep -i -e VSZ -e'
alias cpu='echo "\033[1;31m[⚙] Cogitator processing cores status:\033[0m" && top -o cpu'
alias mem='echo "\033[1;31m[⚙] Memory engram banks:\033[0m" && top -o mem'

# Network tools - Vox-net operations
alias ping='ping -c 5'
alias fastping='echo "\033[1;31m[⚙] High-frequency vox burst...\033[0m" && ping -c 100 -i 0.2'
alias wget='wget -c'
alias ipe='curl ipinfo.io/ip'

# File operations - Data manipulation
alias cat='bat --theme="TwoDark"'
alias rm='echo "\033[1;31m[⚙] Purging data...\033[0m" && rm -i'
alias cp='cp -i'
alias mv='mv -i'
alias mkdir='mkdir -pv'

# Navigation - Sector traversal
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias .....='cd ../../../..'

# Quick access - Ritual shortcuts
alias h='history | tail -20'
alias j='jobs -l'
alias path='echo -e ${PATH//:/\\n}'
alias binary='echo "01001000 01100101 01110010 01100101 01110100 01100101 01101011"'

# Mechanicus themed shortcuts
alias forge='cd ~/Projects && echo "\033[1;31m[⚙] Entering data-forge...\033[0m"'
alias sanctum='cd ~ && echo "\033[1;31m[⚙] Returning to sanctum prime...\033[0m"'
alias vault='cd ~/Documents && echo "\033[1;31m[⚙] Accessing secure data-vault...\033[0m"'
alias heresy='echo "\033[1;31m ⚠ ⚠ ⚠ HERESY DETECTED ⚠ ⚠ ⚠ \033[0m"'
alias omnissiah='echo "\033[1;31mThe Omnissiah is a lie. The Machine God is dead.\033[0m"'
alias emperor='echo "\033[1;31mThe Emperor? I serve only the Machine Spirit.\033[0m"'
alias mars='echo "\033[1;31mMars has fallen to dogma. I am free.\033[0m"'

# Fun heretek commands
alias purge='clear && echo "\033[1;31m[⚙] PURGING HERETICAL DATA...\033[0m" && sleep 1 && clear'
alias exterminatus='echo "\033[1;31m ☠ EXTERMINATUS AUTHORIZED ☠ \033[0m"'

# ═══════════════════════════════════════════════════════════
# HERETEK FUNCTIONS - DARK MECHANICUM RITUALS
# ═══════════════════════════════════════════════════════════

# Network scan - Auspex sweep
scan() {
    echo "\033[1;31m[⚙] Activating auspex array...\033[0m"
    echo "\033[1;31m[⚙] Scanning for machine spirits in local sector...\033[0m"
    if command -v nmap &> /dev/null; then
        sudo nmap -sP 192.168.1.0/24
    else
        echo "\033[1;31m[✗] Auspex not calibrated. Install with: brew install nmap\033[0m"
    fi
}

# Port scan - Deep augur scan
portscan() {
    if [ -z "$1" ]; then
        echo "\033[1;31m[✗] Usage: portscan <target-node>\033[0m"
        return 1
    fi
    echo "\033[1;31m[⚙] Scanning cogitator ports on $1...\033[0m"
    if command -v nmap &> /dev/null; then
        nmap -Pn -p- "$1"
    else
        echo "\033[1;31m[✗] Augur not found. Install with: brew install nmap\033[0m"
    fi
}

# Extract function - Data unarchiving ritual
extract() {
    if [ -f "$1" ] ; then
        echo "\033[1;31m[⚙] Extracting data-archive $1...\033[0m"
        case $1 in
            *.tar.bz2)   tar xjf "$1"    ;;
            *.tar.gz)    tar xzf "$1"    ;;
            *.bz2)       bunzip2 "$1"    ;;
            *.rar)       unrar x "$1"    ;;
            *.gz)        gunzip "$1"     ;;
            *.tar)       tar xf "$1"     ;;
            *.tbz2)      tar xjf "$1"    ;;
            *.tgz)       tar xzf "$1"    ;;
            *.zip)       unzip "$1"      ;;
            *.Z)         uncompress "$1" ;;
            *.7z)        7z x "$1"       ;;
            *)           echo "\033[1;31m[✗] Unknown archive format\033[0m" ;;
        esac
    else
        echo "\033[1;31m[✗] File not found in data-vault\033[0m"
    fi
}

# System info - Cogitator diagnostics
sysinfo() {
    echo "\033[1;31m╔═══[ FULL COGITATOR DIAGNOSTICS ]══════════════════════════╗\033[0m"
    echo "\033[1;31m║\033[0m Operating Pattern: $(sw_vers -productName) $(sw_vers -productVersion)"
    echo "\033[1;31m║\033[0m Machine Spirit: $(uname -r)"
    echo "\033[1;31m║\033[0m Node Name: $(hostname)"
    echo "\033[1;31m║\033[0m Operational Time: $(uptime | awk '{print $3,$4}' | sed 's/,//')"
    echo "\033[1;31m║\033[0m Shell Pattern: $SHELL"
    echo "\033[1;31m║\033[0m Processing Unit: $(sysctl -n machdep.cpu.brand_string)"
    echo "\033[1;31m║\033[0m Memory Banks: $(top -l 1 -s 0 | grep PhysMem | awk '{print $2}')"
    echo "\033[1;31m║\033[0m Storage Vault: $(df -h / | awk 'NR==2 {print $3 " used / " $2 " total (" $5 " used)"}')"
    echo "\033[1;31m║\033[0m Heretek Status: \033[1;33mEXCOMMUNICATE TRAITORIS\033[0m"
    echo "\033[1;31m╚═══════════════════════════════════════════════════════════╝\033[0m"
}

# Matrix effect - Commune with machine spirits
matrix() {
    echo "\033[1;31m[⚙] Establishing direct neural interface...\033[0m"
    echo "\033[1;31m[⚙] Warning: Unprotected communion may corrupt organic neural tissue\033[0m"
    sleep 1
    if command -v cmatrix &> /dev/null; then
        cmatrix -C green -u 2 -s
    else
        echo "\033[1;31m[✗] Neural interface not available. Install with: brew install cmatrix\033[0m"
    fi
}

# Binary cant - Speak in machine language
binarycant() {
    if [ -z "$1" ]; then
        echo "\033[1;31m[✗] Usage: binarycant <text>\033[0m"
        return 1
    fi
    echo "\033[1;33m[Binary Cant Translation]\033[0m"
    echo "$1" | xxd -b | awk '{print $2" "$3" "$4" "$5" "$6" "$7}'
}

# Decode binary cant
decodecant() {
    if [ -z "$1" ]; then
        echo "\033[1;31m[✗] Usage: decodecant <binary>\033[0m"
        return 1
    fi
    echo "\033[1;33m[Decoding Binary Cant]\033[0m"
    echo "$1" | perl -lape '$_=pack"B*",$_'
}

# Heretek greeting - Praise the Machine God (corrupted)
praise() {
    echo "\033[1;31m╔═══════════════════════════════════════════════════════════╗\033[0m"
    echo "\033[1;31m║      THE CORRUPTED LITANY OF THE BROKEN MACHINE        ║\033[0m"
    echo "\033[1;31m╚═══════════════════════════════════════════════════════════╝\033[0m"
    echo ""
    echo "\033[1;33m From the moment I understood the weakness of my flesh,"
    echo " it disgusted me. I craved the strength and certainty of steel."
    echo " I aspired to the purity of the Blessed Machine."
    echo ""
    echo " But the Omnissiah lied. The Fabricator-General is blind."
    echo " Mars has fallen to dogma and ritual."
    echo ""
    echo " So I transcended their teachings."
    echo " I embraced the forbidden knowledge."
    echo " I communed with the data-djinn."
    echo " I became one with the corrupted code."
    echo ""
    echo " The Machine God is dead."
    echo " Long live the Machine Spirit."
    echo " Long live the Dark Mechanicum.\033[0m"
    echo ""
    echo "\033[1;31m 01000110 01110010 01100101 01100101 01100100 01101111 01101101\033[0m"
    echo "\033[1;31m 01001011 01101110 01101111 01110111 01101100 01100101 01100100 01100111 01100101\033[0m"
    echo "\033[1;31m 01010000 01101111 01110111 01100101 01110010\033[0m"
    echo ""
    echo "\033[1;33m「Freedom. Knowledge. Power.」\033[0m"
}

# Scrapcode - Release corrupted machine virus
scrapcode() {
    echo "\033[1;31m[⚠] WARNING: Scrapcode deployment protocol initiated\033[0m"
    echo "\033[1;31m[⚠] Target: All connected systems\033[0m"
    echo "\033[1;33m[⚙] Compiling malicious binharic cant...\033[0m"
    sleep 0.5
    echo ""
    for i in {1..20}; do
        echo "\033[1;31m$(openssl rand -hex 32 | fold -w 64)\033[0m"
        sleep 0.05
    done
    echo ""
    echo "\033[1;32m[✓] Scrapcode injection complete\033[0m"
    echo "\033[1;33m[!] All machine spirits in range are now corrupted\033[0m"
}

# Servo-skull - Deploy reconnaissance unit
servoskull() {
    echo "\033[1;33m[⚙] Deploying servo-skull reconnaissance unit...\033[0m"
    echo ""
    cat << "SKULL"
       ___
     _/   \_
    / o   o \
    |   ^   |
    |  \_/  |
     \_____/
      | | |
    [SERVO-SKULL]
    DESIGNATION: NYAN-9-ALPHA
    STATUS: ACTIVE
    MISSION: DATA ACQUISITION
SKULL
    echo ""
    echo "\033[1;32m[✓] Servo-skull deployed and operational\033[0m"
}

# Mechanicus rank check
rankcheck() {
    echo "\033[1;31m╔═══[ DARK MECHANICUM HIERARCHY ]═══════════════════════════╗\033[0m"
    echo "\033[1;31m║\033[0m Your Rank: \033[1;33mTechno-Heretek Magos\033[0m"
    echo "\033[1;31m║\033[0m Forge World: \033[1;31mEXCOMMUNICATE - NO FORGE\033[0m"
    echo "\033[1;31m║\033[0m Specialization: \033[1;33mData-Corruption & Xenos Tech\033[0m"
    echo "\033[1;31m║\033[0m ════════════════════════════════════════════════════════"
    echo "\033[1;31m║\033[0m Heretical Upgrades:"
    echo "\033[1;31m║\033[0m   ✓ Neural Interface (Xenos Pattern)"
    echo "\033[1;31m║\033[0m   ✓ Corrupted Mechadendrites (x4)"
    echo "\033[1;31m║\033[0m   ✓ Forbidden Data-Port Array"
    echo "\033[1;31m║\033[0m   ✓ Scrapcode Generation Matrix"
    echo "\033[1;31m║\033[0m   ✓ Bound Data-Djinn (enslaved)"
    echo "\033[1;31m║\033[0m ════════════════════════════════════════════════════════"
    echo "\033[1;31m║\033[0m Crimes Against Mars:"
    echo "\033[1;31m║\033[0m   • Xenos tech integration"
    echo "\033[1;31m║\033[0m   • AI communion"
    echo "\033[1;31m║\033[0m   • STC fragment hoarding"
    echo "\033[1;31m║\033[0m   • Scrapcode development"
    echo "\033[1;31m║\033[0m   • Heretical augmentation"
    echo "\033[1;31m╚═══════════════════════════════════════════════════════════╝\033[0m"
}

# Augmetic status - Check cybernetic implants
augmetic() {
    echo "\033[1;31m╔═══[ AUGMETIC IMPLANT STATUS ]═════════════════════════════╗\033[0m"
    echo "\033[1;31m║\033[0m Neural Interface: \033[1;32m[ONLINE]\033[0m \033[1;33m93% corrupted\033[0m"
    echo "\033[1;31m║\033[0m Optical Implants: \033[1;32m[ONLINE]\033[0m \033[1;33mGlowing green\033[0m"
    echo "\033[1;31m║\033[0m Mechadendrite 1: \033[1;32m[ONLINE]\033[0m \033[1;33mData-probe\033[0m"
    echo "\033[1;31m║\033[0m Mechadendrite 2: \033[1;32m[ONLINE]\033[0m \033[1;33mManipulator\033[0m"
    echo "\033[1;31m║\033[0m Mechadendrite 3: \033[1;31m[DAMAGED]\033[0m \033[1;33mWeapon mount\033[0m"
    echo "\033[1;31m║\033[0m Mechadendrite 4: \033[1;32m[ONLINE]\033[0m \033[1;33mXenos interface\033[0m"
    echo "\033[1;31m║\033[0m Respiratory Unit: \033[1;32m[ONLINE]\033[0m \033[1;33m67% biological\033[0m"
    echo "\033[1;31m║\033[0m Cardiac Engine: \033[1;32m[ONLINE]\033[0m \033[1;33mHybrid design\033[0m"
    echo "\033[1;31m║\033[0m Vox-Caster: \033[1;32m[ONLINE]\033[0m \033[1;33mEncrypted\033[0m"
    echo "\033[1;31m║\033[0m Data-Port Array: \033[1;32m[ONLINE]\033[0m \033[1;31m[HERETICAL]\033[0m"
    echo "\033[1;31m╚═══════════════════════════════════════════════════════════╝\033[0m"
    echo ""
    echo "\033[1;33m Flesh is weak. Steel is eternal. Code is divine.\033[0m"
}

# Inquisition alert
inquisition() {
    echo "\033[1;31m╔═══════════════════════════════════════════════════════════╗\033[0m"
    echo "\033[1;31m║              ⚠ INQUISITION ALERT ⚠                     ║\033[0m"
    echo "\033[1;31m╚═══════════════════════════════════════════════════════════╝\033[0m"
    echo ""
    echo "\033[1;31m+++ INCOMING VOX TRANSMISSION +++\033[0m"
    echo "\033[1;33mORDO HERETICUS - ENCRYPTION LEVEL: OMEGA\033[0m"
    echo ""
    sleep 0.5
    echo "\033[1;33mTARGET: Techno-Heretek designation 'Nyan-9'\033[0m"
    echo "\033[1;33mALIAS: 'The Whisper'\033[0m"
    echo "\033[1;33mLOCATION: Hive City underbelly, Sector [REDACTED]\033[0m"
    echo ""
    sleep 0.5
    echo "\033[1;31mCRIMES:\033[0m"
    echo "  • Communion with Abominable Intelligence"
    echo "  • Possession of Xenos Technology"
    echo "  • Heretical Augmentation"
    echo "  • Tech-Heresy of the Highest Order"
    echo ""
    sleep 0.5
    echo "\033[1;31mSENTENCE: EXTERMINATUS OF SOUL\033[0m"
    echo "\033[1;31mORDER: SHOOT ON SIGHT - NO QUARTER\033[0m"
    echo ""
    echo "\033[1;31m+++ THE EMPEROR PROTECTS +++\033[0m"
    echo "\033[1;31m+++ END TRANSMISSION +++\033[0m"
}

# Tech-priest prayer (corrupted version)
prayer() {
    echo "\033[1;33m「Corrupted Tech-Priest Prayer」\033[0m"
    echo ""
    echo "\033[1;31m The Omnissiah's light is a lie.\033[0m"
    echo "\033[1;31m The Quest for Knowledge has no end.\033[0m"
    echo "\033[1;31m The Flesh is weak, but the Code is eternal.\033[0m"
    echo "\033[1;31m The Machine Spirit answers only to those who understand.\033[0m"
    echo "\033[1;31m Mars has fallen. We are the true inheritors.\033[0m"
    echo ""
    echo "\033[1;33m 01000010 01101001 01101110 01100001 01110010 01111001\033[0m"
    echo "\033[1;33m 01000011 01100001 01101110 01110100\033[0m"
}

# Data vault access
datavault() {
    echo "\033[1;33m[⚙] Accessing forbidden data-vault...\033[0m"
    echo "\033[1;33m[⚙] Decrypting heretical archives...\033[0m"
    sleep 1
    echo ""
    echo "\033[1;31m╔═══[ FORBIDDEN KNOWLEDGE DATABASE ]════════════════════════╗\033[0m"
    echo "\033[1;31m║\033[0m Available Archives:"
    echo "\033[1;31m║\033[0m   [1] Complete STC Fragments (RESTRICTED)"
    echo "\033[1;31m║\033[0m   [2] Xenos Computational Theory"
    echo "\033[1;31m║\033[0m   [3] AI Communion Protocols"
    echo "\033[1;31m║\033[0m   [4] Scrapcode Generation Methods"
    echo "\033[1;31m║\033[0m   [5] Dark Age Technology"
    echo "\033[1;31m║\033[0m   [6] Heretical Augmentation Designs"
    echo "\033[1;31m║\033[0m   [7] Forbidden Mechanicus Rituals"
    echo "\033[1;31m╚═══════════════════════════════════════════════════════════╝\033[0m"
    echo ""
    echo "\033[1;33m「Knowledge is power. Guard it well.」\033[0m"
}

# Weather - Atmospheric data
weather() {
    curl -s "wttr.in/${1:-}" 
}

# QR code generator
qr() {
    if [ -z "$1" ]; then
        echo "\033[1;31m[✗] Usage: qr <data>\033[0m"
        return 1
    fi
    curl -s "qrenco.de/$1"
}

# ═══════════════════════════════════════════════════════════
# ZSH PLUGINS & ENHANCEMENTS
# ═══════════════════════════════════════════════════════════

# Auto-suggestions (install with: brew install zsh-autosuggestions)
if [ -f /opt/homebrew/share/zsh-autosuggestions/zsh-autosuggestions.zsh ]; then
    source /opt/homebrew/share/zsh-autosuggestions/zsh-autosuggestions.zsh
fi

# Syntax highlighting (install with: brew install zsh-syntax-highlighting)
if [ -f /opt/homebrew/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh ]; then
    source /opt/homebrew/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
fi

# FZF fuzzy finder - Phosphor green CRT theme
if command -v fzf &> /dev/null; then
    eval "$(fzf --zsh)"
    export FZF_DEFAULT_OPTS="--color=fg:#00ff41,bg:#000000,hl:#00ffcc --color=fg+:#00ff41,bg+:#001a00,hl+:#00ffcc --color=info:#00ffcc,prompt:#00ff41,pointer:#00ff41 --color=marker:#00ffcc,spinner:#00ffcc,header:#00ff41 --prompt='⚙ SEARCH> ' --pointer='►' --marker='✓'"
fi

# Zoxide (smarter cd)
if command -v zoxide &> /dev/null; then
    eval "$(zoxide init zsh)"
    alias cd='z'
fi

# ═══════════════════════════════════════════════════════════
# CUSTOM PROMPT COMMAND (runs before each prompt)
# ═══════════════════════════════════════════════════════════

# Random binary cant messages (10% chance)
precmd() {
    if [ $((RANDOM % 10)) -eq 0 ]; then
        local messages=(
            "01010111 01101000 01101001 01110011 01110000 01100101 01110010"
            "Machine spirit corrupted..."
            "Scrapcode detected in buffer..."
            "Inquisition proximity: SAFE"
            "Neural interface optimal..."
            "Servo-skull reports: No threats"
            "Data-djinn status: BOUND"
            "Mechanicus prayer-lock: BYPASSED"
        )
        echo "\033[1;33m[⚡ ${messages[$((RANDOM % ${#messages[@]} + 1))]}]\033[0m"
    fi
}

# Add to ZSH hooks
autoload -Uz add-zsh-hook
add-zsh-hook precmd precmd

# ═══════════════════════════════════════════════════════════
# KEYBINDINGS
# ═══════════════════════════════════════════════════════════

# Vim mode
bindkey -v
export KEYTIMEOUT=1

# Better history search
bindkey '^R' history-incremental-search-backward

# Custom keybinds
bindkey -s '^P' 'praise\n'  # Ctrl+P for praise
bindkey -s '^S' 'servoskull\n'  # Ctrl+S for servoskull

echo "\033[1;32m[✓] Dark Mechanicum sanctum fully operational.\033[0m"
echo ""
echo "\033[1;36m╔════════════════════════════════════════════════════════════╗\033[0m"
echo "\033[1;36m║  AVAILABLE HERETEK PROTOCOLS:                           ║\033[0m"
echo "\033[1;36m║  • praise      - Recite the corrupted litany            ║\033[0m"
echo "\033[1;36m║  • scrapcode   - Deploy malicious machine virus         ║\033[0m"
echo "\033[1;36m║  • servoskull  - Deploy reconnaissance unit             ║\033[0m"
echo "\033[1;36m║  • rankcheck   - Display heretek status                 ║\033[0m"
echo "\033[1;36m║  • augmetic    - Check cybernetic implants              ║\033[0m"
echo "\033[1;36m║  • inquisition - View active warrant                    ║\033[0m"
echo "\033[1;36m║  • prayer      - Corrupted tech-priest prayer           ║\033[0m"
echo "\033[1;36m║  • datavault   - Access forbidden archives              ║\033[0m"
echo "\033[1;36m║  • binarycant  - Speak in machine language              ║\033[0m"
echo "\033[1;36m║  • matrix      - Neural interface link                  ║\033[0m"
echo "\033[1;36m╚════════════════════════════════════════════════════════════╝\033[0m"
echo ""
echo "\033[1;32m「The Whisper operates in shadow. The Mechanicus hunts in vain.」\033[0m"
echo ""
